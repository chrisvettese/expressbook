(this["webpackJsonphotel-ui"]=this["webpackJsonphotel-ui"]||[]).push([[0],{68:function(e,t,n){"use strict";n.r(t),n.d(t,"TitleBar",(function(){return f}));var c=n(0),r=n(9),s=n(30),a=n(11),i=n(4);var o=n(14),u=n(96),l=n(99),j=n(102),d=n(103),b=Object(u.a)((function(){return{sinCentre:{paddingTop:"5em",display:"flex",alignItems:"center",justifyContent:"center"},buttonCentre:{paddingTop:"2em",display:"flex",alignItems:"center",justifyContent:"center"}}}));var m=n(101),h=Object(u.a)((function(){return{centre:{paddingTop:"5em",display:"flex",alignItems:"center",justifyContent:"center"},buttonCentre:{paddingTop:"2em",display:"flex",alignItems:"center",justifyContent:"center"}}}));var O=Object(u.a)((function(){return{}}));n(65).config();var p=Object(u.a)((function(){return{title:{fontSize:"2.5em",fontWeight:"bold",paddingLeft:"1em"}}}));function f(){var e=p();return Object(i.jsx)(m.a,{position:"static",children:Object(i.jsx)(l.a,{className:e.title,children:"ExpressBook Customer Portal"})})}r.render(Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(s.a,{children:Object(i.jsxs)(a.c,{children:[Object(i.jsx)(a.a,{exact:!0,path:"/ui/employee",component:function(){return Object(i.jsx)(i.Fragment,{children:"Employee page"})}}),Object(i.jsx)(a.a,{exact:!0,path:"/ui/customer",component:function(){var e=b(),t=Object(a.f)(),n=Object(c.useState)(""),r=Object(o.a)(n,2),s=r[0],u=r[1],m=/^[0-9]{3}-[0-9]{3}-[0-9]{3}$/;function h(){return!m.test(s)&&0!==s.length}function O(){fetch("http://localhost:1234/customers/"+s).then((function(e){404===e.status?t.push("/ui/customer/name",{customer_sin:s}):e.json().then((function(e){t.push("/ui/customer/welcome",{response:e})}))}))}return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(f,{}),Object(i.jsx)("div",{className:e.sinCentre,children:Object(i.jsx)(l.a,{children:"To begin searching destinations, enter your social insurance number:"})}),Object(i.jsx)("div",{className:e.sinCentre,children:Object(i.jsx)(j.a,{error:h(),helperText:h()?"SIN must have format XXX-XXX-XXX":"",onChange:function(e){return u(e.currentTarget.value)},onKeyPress:function(e){return function(e){"Enter"===e.key&&m.test(s)&&O()}(e)},id:"outlined-basic",label:"Social Insurance Number",variant:"outlined",value:s})}),Object(i.jsx)("div",{className:e.buttonCentre,children:Object(i.jsx)(d.a,{variant:"contained",onClick:function(){return O()},disabled:!m.test(s),children:"Sign In"})})]})}}),Object(i.jsx)(a.a,{exact:!0,path:"/ui/customer/name",component:function(){var e=h(),t=Object(a.g)(),n=Object(a.f)(),r=Object(c.useState)(""),s=Object(o.a)(r,2),u=s[0],b=s[1],m=Object(c.useState)(""),O=Object(o.a)(m,2),p=O[0],x=O[1],g=Object(c.useState)(!1),v=Object(o.a)(g,2),y=v[0],C=v[1],T=Object(c.useState)(!1),S=Object(o.a)(T,2),N=S[0],I=S[1],X=Object(c.useState)(!0),k=Object(o.a)(X,2),F=k[0],w=k[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(f,{}),Object(i.jsx)("div",{className:e.centre,children:Object(i.jsx)(l.a,{children:"Welcome to ExpressBook. Please provide some information about yourself:"})}),Object(i.jsx)("div",{className:e.centre,children:Object(i.jsx)(j.a,{label:"Full Name",variant:"outlined",value:u,error:y,helperText:y?"Must provide name":"",onChange:function(e){return b(e.currentTarget.value)}})}),Object(i.jsx)("div",{className:e.centre,children:Object(i.jsx)(j.a,{label:"Address",variant:"outlined",value:p,error:N,helperText:N?"Must provide address":"",onChange:function(e){return x(e.currentTarget.value)}})}),Object(i.jsx)("div",{className:e.buttonCentre,children:Object(i.jsx)(d.a,{variant:"contained",onClick:function(){0===u.length&&0===p.length?(C(!0),I(!0)):0!==u.length&&0===p.length?(C(!1),I(!0)):0===u.length&&0!==p.length?(C(!0),I(!1)):(w(!1),fetch("http://localhost:1234/customers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer_sin:t.state.customer_sin,customer_name:u,customer_address:p})}).then((function(e){201===e.status&&n.push("/ui/customer/welcome")})))},disabled:!F,children:"Sign In"})})]})}}),Object(i.jsx)(a.a,{exact:!0,path:"/ui/customer/welcome",component:function(){return O(),Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(f,{})})}})]})})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.b1259323.chunk.js.map