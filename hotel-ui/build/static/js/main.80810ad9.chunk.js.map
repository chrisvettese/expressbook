{"version":3,"sources":["customer/Customer.tsx","customer/Name.tsx","customer/Welcome.tsx","index.tsx","Employee.tsx"],"names":["useStyles","makeStyles","sinCentre","paddingTop","display","alignItems","justifyContent","buttonCentre","centre","centreTitle","fontWeight","fontSize","marginTop","buttonSpacing","marginLeft","marginRight","require","config","useTitleStyles","title","paddingLeft","TitleBar","classes","AppBar","position","Typography","className","ReactDOM","exact","path","component","history","useHistory","useState","SIN","setSIN","sin_re","validateSIN","test","length","checkCustomer","fetch","process","then","response","status","push","customer_sin","json","TextField","error","helperText","onChange","event","currentTarget","value","onKeyPress","e","key","keyPressed","id","label","variant","Button","onClick","disabled","location","useLocation","name","setName","address","setAddress","nameError","setNameError","addressError","setAddressError","useButton","setUseButton","method","headers","body","JSON","stringify","state","customer_name","customer_address","catch","console","welcomeMessage","addressMessage","document","getElementById"],"mappings":"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","file":"static/js/main.80810ad9.chunk.js","sourcesContent":["import {Button, makeStyles, TextField, Typography} from \"@material-ui/core\";\nimport React, {useState} from \"react\";\nimport {TitleBar} from \"../index\";\nimport {useHistory} from 'react-router-dom';\n\n\nconst useStyles = makeStyles(() => ({\n    sinCentre: {\n        paddingTop: '5em',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    buttonCentre: {\n        paddingTop: '2em',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    }\n}));\n\nexport default function Customer() {\n    const classes = useStyles();\n    const history = useHistory();\n\n    const [SIN, setSIN] = useState(\"\");\n    const sin_re: RegExp = /^[0-9]{3}-[0-9]{3}-[0-9]{3}$/;\n\n    function validateSIN(): boolean {\n        return !sin_re.test(SIN) && SIN.length !== 0;\n    }\n\n    function keyPressed(e: React.KeyboardEvent<HTMLDivElement>) {\n        if (e.key === 'Enter' && sin_re.test(SIN)) {\n            checkCustomer();\n        }\n    }\n\n    function checkCustomer() {\n        fetch(process.env.REACT_APP_SERVER_URL + \"/customers/\" + SIN)\n            .then(response => {\n                if (response.status === 404) {\n                    history.push('/ui/customer/name', {customer_sin: SIN})\n                } else {\n                    response.json().then(response => {\n                        history.push('/ui/customer/welcome', response)\n                    })\n                }\n            })\n    }\n\n    return (\n        <>\n            <TitleBar/>\n            <div className={classes.sinCentre}>\n                <Typography>To begin searching destinations, enter your social insurance number:</Typography>\n            </div>\n            <div className={classes.sinCentre}>\n                <TextField error={validateSIN()} helperText={validateSIN() ? \"SIN must have format XXX-XXX-XXX\" : \"\"}\n                           onChange={event => setSIN(event.currentTarget.value)}\n                           onKeyPress={e => keyPressed(e)}\n                           id=\"outlined-basic\" label=\"Social Insurance Number\" variant=\"outlined\" value={SIN}/>\n            </div>\n            <div className={classes.buttonCentre}>\n                <Button variant=\"contained\" onClick={() => checkCustomer()} disabled={!sin_re.test(SIN)}>Sign\n                    In</Button>\n            </div>\n        </>\n    )\n}","import {Button, makeStyles, TextField, Typography} from \"@material-ui/core\";\nimport React, {useState} from \"react\";\nimport {TitleBar} from \"../index\";\nimport {useHistory, useLocation} from 'react-router-dom';\nimport {Location} from 'history';\n\ntype LocationState = {\n    from: Location;\n};\n\nconst useStyles = makeStyles(() => ({\n    centre: {\n        paddingTop: '5em',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    buttonCentre: {\n        paddingTop: '2em',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    }\n}));\n\nexport default function Name() {\n    const classes = useStyles();\n    const location = useLocation<{ customer_sin: string }>();\n    const history = useHistory();\n    const [name, setName] = useState(\"\");\n    const [address, setAddress] = useState(\"\");\n    const [nameError, setNameError] = useState(false)\n    const [addressError, setAddressError] = useState(false)\n    const [useButton, setUseButton] = useState(true)\n\n    function submitInfo() {\n        if (name.length === 0 && address.length === 0) {\n            setNameError(true);\n            setAddressError(true)\n        } else if (name.length !== 0 && address.length === 0) {\n            setNameError(false);\n            setAddressError(true)\n        } else if (name.length === 0 && address.length !== 0) {\n            setNameError(true);\n            setAddressError(false)\n        } else {\n            setUseButton(false);\n            fetch(process.env.REACT_APP_SERVER_URL + \"/customers\", {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    customer_sin: location.state.customer_sin,\n                    customer_name: name,\n                    customer_address: address\n                })\n            }).then(response => {\n                if (response.status === 201) {\n                    history.push('/ui/customer/welcome', {\n                        customer_sin: location.state.customer_sin,\n                        customer_name: name,\n                        customer_address: address\n                    })\n                }\n            }).catch((error) => {\n                console.error('Error:', error);\n                setUseButton(true);\n            });\n        }\n    }\n\n    return (\n        <>\n            <TitleBar/>\n            <div className={classes.centre}>\n                <Typography>Welcome to ExpressBook. Please provide some information about yourself:</Typography>\n            </div>\n            <div className={classes.centre}>\n                <TextField label=\"Full Name\" variant=\"outlined\" value={name} error={nameError}\n                           helperText={nameError ? \"Must provide name\" : \"\"}\n                           onChange={event => setName(event.currentTarget.value)}/>\n            </div>\n            <div className={classes.centre}>\n                <TextField label=\"Address\" variant=\"outlined\" value={address} error={addressError}\n                           helperText={addressError ? \"Must provide address\" : \"\"}\n                           onChange={event => setAddress(event.currentTarget.value)}/>\n            </div>\n            <div className={classes.buttonCentre}>\n                <Button variant=\"contained\" onClick={() => submitInfo()} disabled={!useButton}>Sign In</Button>\n            </div>\n        </>\n    )\n}","import {Button, Card, Grid, makeStyles, Typography} from \"@material-ui/core\";\nimport React, {useState} from \"react\";\nimport {TitleBar} from \"../index\";\nimport {useHistory, useLocation} from \"react-router-dom\";\n\nconst useStyles = makeStyles(() => ({\n    centre: {\n        paddingTop: '2em',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    centreTitle: {\n        paddingTop: '2em',\n        fontWeight: 'bold',\n        fontSize: '2em',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    buttonCentre: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        marginTop: '2em'\n    },\n    buttonSpacing: {\n        marginLeft: '1.5em',\n        marginRight: '1.5em'\n    }\n}));\n\nexport default function Welcome() {\n    const classes = useStyles();\n    const location = useLocation<{ customer_sin: string, customer_name: string, customer_address: string }>();\n    const history = useHistory();\n\n    const welcomeMessage = \"Welcome, \" + location.state.customer_name\n    const addressMessage = \"Your address: \" + location.state.customer_address\n\n    return (\n        <>\n            <TitleBar/>\n            <Typography className={classes.centreTitle}>{welcomeMessage}</Typography>\n            <Typography className={classes.centre}>{addressMessage}</Typography>\n            <div className={classes.buttonCentre}>\n                <Button variant=\"contained\" className={classes.buttonSpacing}>Find A Hotel</Button>\n                <Button variant=\"contained\" className={classes.buttonSpacing}>My Reservations</Button>\n            </div>\n        </>\n    )\n}","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route, RouteComponentProps\n} from \"react-router-dom\";\nimport Employee from \"./Employee\";\nimport Customer from \"./customer/Customer\";\nimport {AppBar, makeStyles, Typography} from \"@material-ui/core\";\nimport Name from \"./customer/Name\";\nimport Welcome from \"./customer/Welcome\";\n\nrequire('dotenv').config()\n\ninterface MatchParams {\n    name: string;\n}\nexport interface MatchProps extends RouteComponentProps<MatchParams> {\n}\n\nconst useTitleStyles = makeStyles(() => ({\n    title: {\n        fontSize: \"2.5em\",\n        fontWeight: \"bold\",\n        paddingLeft: \"1em\"\n    }\n}));\n\nexport function TitleBar() {\n    const classes = useTitleStyles();\n    return <AppBar position=\"static\">\n        <Typography className={classes.title}>ExpressBook Customer Portal</Typography>\n    </AppBar>\n}\n\nReactDOM.render(\n    <>\n        <Router>\n            <Switch>\n                <Route exact path=\"/ui/employee\" component={Employee}/>\n                <Route exact path=\"/ui/customer\" component={Customer}/>\n                <Route exact path=\"/ui/customer/name\" component={Name}/>\n                <Route exact path=\"/ui/customer/welcome\" component={Welcome}/>\n            </Switch>\n        </Router>\n    </>,\n    document.getElementById('root')\n);\n","export default function Employee() {\n    return (\n        <>\n            Employee page\n        </>\n    )\n}"],"sourceRoot":""}